--- packages/SystemUI/src/com/android/systemui/navigationbar/NavigationModeController.java
+++ packages/SystemUI/src/com/android/systemui/navigationbar/NavigationModeController.java
@@ -134,7 +136,9 @@ public void updateCurrentInteractionMode(boolean notify) {
         mCurrentUserContext = getCurrentUserContext();
         int mode = getCurrentInteractionMode(mCurrentUserContext);
         if (mode == NAV_BAR_MODE_GESTURAL) {
-            switchToDefaultGestureNavOverlayIfNecessary();
+            boolean hidden = Settings.Secure.getFloat(mCurrentUserContext.getContentResolver(),
+                    Secure.GESTURE_NAVBAR_LENGTH, 1.0f) == 0.0f;
+            switchToDefaultGestureNavOverlayIfNecessary(hidden);
         }
         mUiBgExecutor.execute(() ->
             Settings.Secure.putString(mCurrentUserContext.getContentResolver(),
@@ -189,18 +193,20 @@ public Context getCurrentUserContext() {
         }
     }
 
-    private void switchToDefaultGestureNavOverlayIfNecessary() {
+    private void switchToDefaultGestureNavOverlayIfNecessary(boolean hidden) {
         final int userId = mCurrentUserContext.getUserId();
         try {
             final IOverlayManager om = IOverlayManager.Stub.asInterface(
                     ServiceManager.getService(Context.OVERLAY_SERVICE));
-            final OverlayInfo info = om.getOverlayInfo(NAV_BAR_MODE_GESTURAL_OVERLAY, userId);
+            final OverlayInfo info = om.getOverlayInfo(hidden ? HIDDEN_OVERLAY_PKG :
+                                                       NAV_BAR_MODE_GESTURAL_OVERLAY, userId);
             if (info != null && !info.isEnabled()) {
                 // Enable the default gesture nav overlay, and move the back gesture inset scale to
                 // Settings.Secure for left and right sensitivity.
                 final int curInset = mCurrentUserContext.getResources().getDimensionPixelSize(
                         com.android.internal.R.dimen.config_backGestureInset);
-                om.setEnabledExclusiveInCategory(NAV_BAR_MODE_GESTURAL_OVERLAY, userId);
+                om.setEnabledExclusiveInCategory(hidden ? HIDDEN_OVERLAY_PKG :
+                                                 NAV_BAR_MODE_GESTURAL_OVERLAY, userId);
                 final int defInset = mCurrentUserContext.getResources().getDimensionPixelSize(
                         com.android.internal.R.dimen.config_backGestureInset);
 
